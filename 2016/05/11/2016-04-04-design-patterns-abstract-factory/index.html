<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design Patterns in Ruby - The Abstract Factory &mdash; Hey There Fancy Pants</title>
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/Blog/assets/main.css">
    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/logo.png"/>
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Hey There Fancy Pants" />
    <meta name="title" content="Design Patterns in Ruby - The Abstract Factory ">
    <link rel="canonical" href="http://www.erickenney.io/Blog//2016/05/11/2016-04-04-design-patterns-abstract-factory/">
    
    
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <meta property="og:title" content="Design Patterns in Ruby - The Abstract Factory "/>
    <meta property="og:url" content="http://www.erickenney.io/Blog//2016/05/11/2016-04-04-design-patterns-abstract-factory/"/>
    
    <meta property="og:image" content="http://www.erickenney.io/Blog//images/blog-cover.jpg"/>
    
    <meta property="og:image" content="http://www.erickenney.io/Blog//images/logo.png"/>
    
    
    <meta property="og:description" content="This is a basic not-quite-functioning example of the Abstract Factory Pattern from the book 'Design Patterns: Elements of Reusable Object-Oriented Software' implemented in Ruby. It uses the same Maze Game example for demonstration as the book in order to make the book's discussion as relevant as possible."/>
    <meta name="description" content="This is a basic not-quite-functioning example of the Abstract Factory Pattern from the book 'Design Patterns: Elements of Reusable Object-Oriented Software' implemented in Ruby. It uses the same Maze Game example for demonstration as the book in order to make the book's discussion as relevant as possible."/>
    
    <meta property="og:site_name" content="Hey There Fancy Pants">
</head>
<body>

<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/">
                <img src="http://www.erickenney.io/Blog//images/logo.png" alt="Inc">
            </a>
            <a href="http://www.erickenney.io/Blog/" class="home">Blog</a>
            

        </nav>
        
    </header>
</section>


<div class="article-cover">
    <div>
        <img src="/Blog/images/blog-cover.jpg" class="image">
    </div>
</div>

<article>

    <div class="container">
        <header>
            <div class="meta">
                By <address><a rel="author" href="" title="Eric Kenney" target="_blank">Eric Kenney</a></address> &mdash;
                <time pubdate datetime="2016-11-May" title="May 11, 2016">May 11, 2016</time>
            </div>
            <h1 class="title">Design Patterns in Ruby - The Abstract Factory</h1>
            <h2 class="subtitle">An Example of the Abstract Factory Pattern Implemented in Ruby</h2>
        </header>

        <section>
            <h2 id="the-pattern">The Pattern</h2>
<p>There are 2 important parts of Abstract Factory pattern. The first is <strong>The Factory</strong> itself. This separates the client from possibly many sub-types of factories. The second is <strong>The Product</strong>, which also needs to be abstract so that no matter which sub-type of factory is being used, the end products need to all look the same as far as the client is concerned. So when a <em>Map Factory</em> can create a <em>Treasure Map</em>, a <em>Star Map</em> or a <em>Trail Map</em>, it still needs to look like just a <em>Map</em> to the client.</p>

<h3 id="the-factory">The Factory</h3>
<p>The Abstract Factory pattern is used to isolate the client from the possibly large number and variety of products in an application. We’ll use the example of a video player. The abstract <em>VideoPlayerFactory</em> class is aware of each sub-type of video player factory and each factory method that those sub-types contain. These factory methods could include <code>make_mute_button</code>, <code>make_progress_bar</code>, and <code>make_volume_slider</code>. Every sub-type of factory would implement each of these functions differently, and the abstract factory doesn’t care. The sub-types of video player factories could be <em>AdVideoPlayerFactory</em>, <em>ChristmasThemeVideoPlayerFactory</em> or <em>StreamingVideoPlayerFactory</em>.</p>

<p>Even though each factory sub-type inherits from the abstract factory, each sub-type should have different behaviors and appearances for things like the mute button and progress bar. For example, the streaming video player’s progress bar might show that it’s always at the end of the video, but allow users to seek to previous parts of the stream. So each sub-type would implement the factory methods differently. The client doesn’t need to know this though. All they need to be able to do is tell the <em>VideoPlayerFactory</em> that they would like a video player to be made, and tell it what kind it should be. </p>

<h3 id="the-products-mute-buttonscroll-baretc">The Products (mute button/scroll bar/etc.)</h3>

<p>With this pattern, not only should the client not need to worry about the different types of factories being used; he/she should also not care about what the results products look like. In order to achieve this, the products should also inherit from abstract products that the client knows about. For example, the <em>StreamingVideoPlayerFactory</em> will probably create a <em>StreamingProgressBar</em>. This should inherit from the <em>ProgressBar</em> class, just like each of the other types of progress bars. The client only knows about this abstract class. This way, the client should not need to make any changes to their program when they decide to use a <em>ChristmasThemeVideoPlayer</em> instead. All they need to do is tell the abstract factory to change which sub-type it creates. In the end, the mute button, scroll bar, and volume slider all function the same way as far as the client is concerned, regardles of video player type.</p>

<h2 id="abstract-factory-in-ruby">Abstract Factory in Ruby</h2>

            
        </section>

        <footer>
            <address>
               <img src="/Blog/images/logo.png">
                <p>Written by <strong><a rel="author" href="https://twitter.com/" title="" target="_blank">Eric Kenney</a></strong><br>
                <span class="muted">Web Developer</span>
                </p>
            </address>

        </footer>

        
        <section>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'kenney'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
        </section>
        
    </div>
</article>


<footer class="site-footer">
    <div class="container">
        &copy; 2017

        <nav>
            <a href="http://www.erickenney.io">Eric Kenney</a> &middot;
            <a href="http://www.erickenney.io/Blog/">Blog</a> &middot;
            <a href="http://www.erickenney.io/#main">About</a>
        </nav>

        <nav class="social">
            
            
            <!-- <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a> -->
        </nav>
        <p>Incorporated theme by <a href="https://sendtoinc.com">Inc</a></p>
    </div>
</footer>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/Blog/assets/main.js"></script>





  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51538703-1', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>
